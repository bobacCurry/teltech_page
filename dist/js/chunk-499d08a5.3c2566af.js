(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-499d08a5"],{"22ce":function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"g",(function(){return i})),r.d(e,"f",(function(){return c})),r.d(e,"e",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"a",(function(){return d}));var n=r("66df"),s=function(t){return n["a"].request({url:"/service/push/add",data:t,method:"post"})},i=function(t,e){return n["a"].request({url:"/service/push/update/".concat(t),method:"post",data:e})},c=function(){return n["a"].request({url:"/service/push/get",method:"get"})},o=function(t){return n["a"].request({url:"/service/push/get_one/".concat(t),method:"get"})},a=function(t){return n["a"].request({url:"/service/push/change_status/".concat(t),method:"post"})},u=function(t){return n["a"].request({url:"/service/push/del_push/".concat(t),method:"post"})},d=function(t){return n["a"].request({url:"/service/vip/add_chat",method:"post",data:t})}},"2c92":function(t,e,r){},"7bed":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"deal-service"},[r("ul",{staticClass:"flex-start-center"},t._l(t.serviceList,(function(e,n){return r("li",{key:n,staticClass:"service-item-frame"},[r("Card",{staticClass:"service-item"},[r("div",{staticClass:"item-info"},[t._v("TG实例： "+t._s(e.phone)+" ")]),r("div",{staticClass:"item-info"},[t._v("服务备注： "+t._s(e.title)+" ")]),r("div",{staticClass:"item-info"},[t._v("服务类型： "+t._s(t.chatType[e.chat_type]))]),r("div",{staticClass:"item-info"},[t._v("文本类型： "+t._s(t.textType[e.text_type]))]),r("div",{staticClass:"item-info"},[t._v("发送时间： "+t._s(e.minute.join("、"))+" 分")]),r("div",{staticClass:"item-info"},[t._v("开启状态： \n\t          \t\t"),1==e.status?r("span",{staticStyle:{color:"green"}},[t._v("已开启")]):r("span",{staticStyle:{color:"red"}},[t._v("未开启")]),t._v("（"),r("a",{on:{click:function(r){return t.changeStatus(e._id,n)}}},[t._v(t._s(1==e.status?"点击关闭":"点击开启"))]),t._v("）\n\t          \t")]),r("div",{staticClass:"item-info"},[t._v("\n\t          \t\t到期时间： \n\t          \t\t"),e.expire?r("span",[t._v(t._s(t._f("expire")(e.expire))),r("a",{on:{click:function(r){t.order.sid=e._id,t.show=!0}}},[t._v("（续时）")])]):r("span",[t._v("未购买"),r("a",{on:{click:function(r){t.order.sid=e._id,t.show=!0}}},[t._v("（点击下单）")])])]),r("div",{staticClass:"item-info flex-between-center"},[r("a",{on:{click:function(r){return t.$router.push("/deal/service-detail/"+e._id)}}},[t._v("查看服务详情")]),r("a",{on:{click:function(r){return t.delPush(e._id)}}},[t._v("删除服务")])])])],1)})),0),r("Modal",{attrs:{title:"创建订单"},on:{"on-ok":t.addOrder,"on-cancel":t.cancel},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("div",{staticClass:"order-info"},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"购买的天数"},model:{value:t.order.days,callback:function(e){t.$set(t.order,"days",e)},expression:"order.days"}},t._l(this.groupFee,(function(e,n){return r("Option",{key:n,attrs:{value:e.days}},[t._v(t._s(e.days)+" 天（"+t._s(e.fee)+"元）")])})),1)],1),r("div",{staticClass:"order-info"},[r("Input",{attrs:{placeholder:"订单备注"},model:{value:t.order.memo,callback:function(e){t.$set(t.order,"memo",e)},expression:"order.memo"}})],1)])],1)},s=[],i=r("22ce"),c=r("f8b7"),o=r("9328"),a=[{days:30,fee:500},{days:60,fee:900},{days:90,fee:1300},{days:120,fee:1700}],u={mounted:function(){this.getService()},filters:{expire:function(t){var e=new Date(1e3*t),r=e.getFullYear(),n=e.getMonth()+1,s=e.getDate();return r+"-"+n+"-"+s}},data:function(){return{serviceList:[],chatType:o["b"],textType:o["f"],groupFee:a,order:{sid:"",days:"",memo:""},show:!1}},methods:{getService:function(){var t=this;Object(i["f"])().then((function(e){e.data.success&&(t.serviceList=e.data.msg)}))},addOrder:function(){var t=this;return this.order.sid?String(this.order.days)?void Object(c["a"])(this.order).then((function(e){return e.data.success?(t.$router.push("/deal/order"),t.$Notice.success({title:e.data.msg})):t.$Notice.error({title:e.data.msg})})):this.$Notice.error({title:"请选择购买天数"}):this.$Notice.error({title:"服务数据有误"})},cancel:function(){this.order.sid=""},changeStatus:function(t,e){var r=this;Object(i["c"])(t).then((function(t){return t.data.success?(r.serviceList[e].status=t.data.status,r.$Notice.success({title:t.data.msg})):r.$Notice.error({title:t.data.msg})}))},delPush:function(t){var e=this;this.$Modal.confirm({title:"是否删除该服务？",content:"是否删除该服务？",onOk:function(){Object(i["d"])(t).then((function(t){var r=t.data;return r.success?(e.getService(),e.$Notice.success({title:r.msg})):e.$Notice.error({title:"解除错误",desc:r.msg})}))}})}}},d=u,l=(r("dc34"),r("2877")),f=Object(l["a"])(d,n,s,!1,null,"4ed199de",null);e["default"]=f.exports},9328:function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return i})),r.d(e,"f",(function(){return c})),r.d(e,"a",(function(){return o})),r.d(e,"d",(function(){return a}));var n=["群发服务","私信服务","拉群服务"],s=["未开启","正常","被禁言（spam）","被封禁（banned）"],i=["招聘","BC推广","美食外卖","其他推广"],c=["文字","图片"],o=["未通过","通过"],a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]},dc34:function(t,e,r){"use strict";var n=r("2c92"),s=r.n(n);s.a},f8b7:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return o}));var n=r("66df"),s=function(t){return n["a"].request({url:"/service/order/add_group_order",method:"post",data:t})},i=function(t){return n["a"].request({url:"/service/order/get_order",method:"get",params:t})},c=function(t){return n["a"].request({url:"/admin/order/get_order",method:"get",params:t})},o=function(t){return n["a"].request({url:"/admin/order/start_order/".concat(t),method:"post"})}}}]);