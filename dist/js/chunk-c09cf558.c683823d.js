(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c09cf558"],{"12f0":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"service-group"},[r("div",{staticClass:"flex-between-center title"},[r("h2",[t._v("创建服务订单")]),r("div",[r("Button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.addPush}},[t._v("保存服务")])],1)]),r("div",{staticClass:"content"},[r("div",{staticClass:"content-title"},[t._v("业务配置")]),r("div",{staticClass:"flex-start-center"},[r("div",{staticClass:"option-item"},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"广告业务类型"},on:{"on-change":t.changeChatType},model:{value:t.order.chat_type,callback:function(e){t.$set(t.order,"chat_type",e)},expression:"order.chat_type"}},t._l(this.chatType,(function(e,i){return r("Option",{key:i,attrs:{value:i}},[t._v(t._s(e))])})),1)],1),r("div",{staticClass:"option-item"},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"广告文本类型"},model:{value:t.order.text_type,callback:function(e){t.$set(t.order,"text_type",e)},expression:"order.text_type"}},t._l(this.textType,(function(e,i){return r("Option",{key:i,attrs:{value:i}},[t._v(t._s(e))])})),1)],1),r("div",{staticClass:"option-item"},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择TG实例"},model:{value:t.order.phone,callback:function(e){t.$set(t.order,"phone",e)},expression:"order.phone"}},t._l(this.clientList,(function(e,i){return r("Option",{key:i,attrs:{value:e.phone}},[t._v(t._s(e.phone))])})),1)],1),r("div",{staticClass:"option-item"},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择发送的时间(分)"},model:{value:t.order.minute,callback:function(e){t.$set(t.order,"minute",e)},expression:"order.minute"}},t._l(this.minuteList,(function(e,i){return r("Option",{key:i,attrs:{value:e}},[t._v("\n\t\t\t        \t"+t._s(e)+" 分 - "+t._s(e+20)+" 分 -  "+t._s(e+40)+" 分\n\t\t\t        ")])})),1)],1)])]),r("div",{staticClass:"content"},[r("div",{staticClass:"content-title"},[t._v("广告群配置")]),r("div",{staticClass:"flex-start-center"},[r("CheckboxGroup",{model:{value:t.order.chat,callback:function(e){t.$set(t.order,"chat",e)},expression:"order.chat"}},t._l(t.chatList,(function(e,i){return r("Checkbox",{key:i,attrs:{label:e.chatid}},[r("span",{staticClass:"check-item"},[t._v(t._s(e.chatid)+" "),e.auth?r("label",{staticStyle:{color:"red"}},[t._v("(需验证)")]):t._e()])])})),1)],1)]),r("div",{staticClass:"content"},[r("div",{staticClass:"content-title"},[t._v("广告内容配置")]),1==t.order.text_type?r("div",{staticClass:"flex-start-center"},[t.order.media?r("div",{staticClass:"image-frame back-image",style:{"background-image":"url("+t.order.media+")"}},[r("Icon",{staticClass:"close",attrs:{type:"ios-close-circle",size:"30",color:"red"},on:{click:function(e){t.order.media=""}}})],1):r("div",{staticClass:"image-frame"},[r("Icon",{attrs:{type:"ios-add-circle",size:"100"}})],1),r("Input",{staticClass:"text-frame",attrs:{type:"textarea",placeholder:"请输入文字文案",autosize:{minRows:10}},model:{value:t.order.caption,callback:function(e){t.$set(t.order,"caption",e)},expression:"order.caption"}})],1):r("div",[r("Input",{staticClass:"text-frame",attrs:{type:"textarea",placeholder:"请输入广告文案",autosize:{minRows:10}},model:{value:t.order.text,callback:function(e){t.$set(t.order,"text",e)},expression:"order.text"}})],1)])])},n=[],c=r("9328"),a=r("50fc"),s=r("b39f"),o=r("22ce"),u={mounted:function(){this.getChat(),this.getClient()},data:function(){return{chatType:c["b"],textType:c["f"],minuteList:c["d"],clientList:[],chatList:[],loading:!1,order:{chat_type:0,text_type:"",phone:"",chat:[],text:"",media:"http://static.feijishu.club/static/common/5d8b0eb3f14c0651e657fc96_1571706927274.jpeg",caption:"",minute:""}}},methods:{getClient:function(){var t=this;Object(s["a"])().then((function(e){e.data.success&&(t.clientList=e.data.msg)}))},getChat:function(){var t=this;Object(a["c"])(this.order.chat_type,1,1,200).then((function(e){e.data.success&&(t.chatList=e.data.msg)}))},changeChatType:function(t){this.order.chat_type=t,this.getChat()},addPush:function(){var t=this;return String(this.order.chat_type)?String(this.order.text_type)?this.order.phone?String(this.order.minute)?this.order.chat.length?("0"!==String(this.order.text_type)||this.order.text.trim())&&("1"!==String(this.order.text_type)||this.order.media.trim())?(this.loading=!0,void Object(o["a"])(this.order).then((function(e){if(e.data.success)return t.$router.push("/deal/service"),t.$Notice.success({title:e.data.msg})})).catch((function(e){t.$Notice.error({title:e.response.data.msg})})).finally((function(){t.loading=!1}))):this.$Notice.error({title:"请填写广告文本"}):this.$Notice.error({title:"请选择要发送的群组"}):this.$Notice.error({title:"请选择发送的时间"}):this.$Notice.error({title:"请选择TG实例"}):this.$Notice.error({title:"请选择文本类型"}):this.$Notice.error({title:"请选择服务类型"})}}},d=u,l=(r("a870"),r("2877")),h=Object(l["a"])(d,i,n,!1,null,"470d3937",null);e["default"]=h.exports},"22ce":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"e",(function(){return c})),r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return o}));var i=r("66df"),n=function(t){return i["a"].request({url:"/service/push/add",data:t,method:"post"})},c=function(t,e){return i["a"].request({url:"/service/push/update/".concat(t),method:"post",data:e})},a=function(){return i["a"].request({url:"/service/push/get",method:"get"})},s=function(t){return i["a"].request({url:"/service/push/get_one/".concat(t),method:"get"})},o=function(t){return i["a"].request({url:"/service/push/change_status/".concat(t),method:"post"})}},"50fc":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return a}));var i=r("66df"),n=function(t,e){return i["a"].request({url:"/admin/chat/add_chat/".concat(t,"/").concat(e),method:"post"})},c=function(t){return i["a"].request({url:"/admin/chat/del_chat/".concat(t),method:"post"})},a=function(t,e,r,n){return i["a"].request({url:"/admin/chat/get_chat/".concat(r,"/").concat(n),params:{type:t,status:e},method:"get"})}},9328:function(t,e,r){"use strict";r.d(e,"e",(function(){return i})),r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return c})),r.d(e,"f",(function(){return a})),r.d(e,"a",(function(){return s})),r.d(e,"d",(function(){return o}));var i=["群发服务","私信服务","拉群服务"],n=["未开启","正常","被禁言（spam）","被封禁（banned）"],c=["招聘","推广","美食","其他"],a=["文字","图片"],s=["未通过","通过"],o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]},"9e75":function(t,e,r){},a870:function(t,e,r){"use strict";var i=r("9e75"),n=r.n(i);n.a},b39f:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var i=r("66df"),n=function(t,e){return i["a"].request({url:"/service/client/get_notused_client",method:"get"})}}}]);