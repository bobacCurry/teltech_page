(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26c5e844"],{5362:function(t,e,n){},9328:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r}));var a=["群发服务","私信服务","拉群服务"],c=["未开启","正常","被禁言（spam）","被封禁（banned）"],s=["招聘","BC推广","美食外卖","其他推广"],o=["文字","图片"],i=["未通过","通过"],r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]},b2a8:function(t,e,n){"use strict";var a=n("5362"),c=n.n(a);c.a},d845:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"service-chat"},[n("div",{staticClass:"title"},[n("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"群类型"},on:{"on-change":t.changeType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(this.chatType,(function(e,a){return n("Option",{key:a,attrs:{value:a}},[t._v(t._s(e))])})),1),n("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"审核状态"},on:{"on-change":t.changeStatus},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(this.chatStatus,(function(e,a){return n("Option",{key:a,attrs:{value:a}},[t._v(t._s(e))])})),1),n("Table",{attrs:{columns:t.columns,data:t.chatids}}),n("Page",{attrs:{"page-size":50,total:5e3,simple:""},on:{"on-change":t.getChat}})],1)])},c=[],s=n("9328"),o=n("66df"),i=function(t,e){return o["a"].request({url:"/admin/chat/add_chat/".concat(t,"/").concat(e),method:"post"})},r=function(t){return o["a"].request({url:"/admin/chat/del_chat/".concat(t),method:"post"})},u=function(t,e,n,a){return o["a"].request({url:"/admin/chat/get_chat/".concat(n,"/").concat(a),params:{type:t,status:e},method:"get"})},h={data:function(){var t=this,e=[{title:"群名称",key:"chatid",render:function(t,e){return t("a",{domProps:{href:"https://t.me/"+e.row.chatid,target:"_blank"}},e.row.chatid)}},{title:"群类型",key:"type",render:function(t,e){return t("span",s["b"][e.row.type])}},{title:"是否入群验证",key:"auth",render:function(t,e){return t("div",[t("span",{style:{color:e.row.auth?"red":""}},e.row.auth?"需要":"不需要"),t("Button",{props:{size:"small",disabled:!!e.row.status},style:{marginLeft:"5px"},on:{click:function(){e.row.auth=0===e.row.auth?1:0}}},"切换")])}},{title:"审核状态",key:"status",render:function(t,e){return t("span",{style:{color:e.row.status?"red":""}},e.row.status?"已通过":"未通过")}},{title:"操作",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small",disabled:!!n.row.status},style:{marginRight:"5px"},on:{click:function(){t.addChat(n.row._id,n.row.auth)}}},"通过"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.delChat(n.row._id)}}},"删除")])}}];return{chatType:s["b"],chatStatus:s["a"],columns:e,chatids:[],auth:["不需要","需要"],status:0,type:0,new_chat:{chatid:"",type:"",auth:""}}},mounted:function(){this.getChat()},methods:{getChat:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(this.type,this.status,e,50).then((function(e){t.chatids=e.data.msg}))},changeStatus:function(t){this.state=t,this.getChat()},changeType:function(t){this.type=t,this.getChat()},addChat:function(t,e){var n=this;this.$Modal.confirm({title:"是否通过该群？",content:"<div><p>审核通过</p></div>",onOk:function(){i(t,e).then((function(t){t.data.success?(n.$Notice.success({title:t.data.msg}),n.getChat()):n.$Notice.error({title:t.data.msg})})).catch((function(t){console.log(t)}))}})},delChat:function(t){var e=this;this.$Modal.confirm({title:"是否删除该群？",content:"<p>审核不通过</p>",onOk:function(){r(t).then((function(t){t.data.success?(e.$Notice.success({title:t.data.msg}),e.getChat()):e.$Notice.error({title:t.data.msg})})).catch((function(t){console.log(t)}))}})}}},l=h,d=(n("b2a8"),n("2877")),p=Object(d["a"])(l,a,c,!1,null,"9b8f2f58",null);e["default"]=p.exports}}]);