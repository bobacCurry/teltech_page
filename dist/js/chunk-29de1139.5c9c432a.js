(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29de1139"],{"50fc":function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return r})),s.d(e,"c",(function(){return n})),s.d(e,"d",(function(){return c})),s.d(e,"e",(function(){return u})),s.d(e,"f",(function(){return o}));var a=s("66df"),i=function(t,e){return a["a"].request({url:"/admin/chat/add_chat/".concat(t,"/").concat(e),method:"post"})},r=function(t){return a["a"].request({url:"/admin/chat/del_chat/".concat(t),method:"post"})},n=function(t,e,s,i){return a["a"].request({url:"/admin/chat/get_chat/".concat(s,"/").concat(i),params:{type:t,status:e},method:"get"})},c=function(t){return a["a"].request({url:"/admin/user/get_users/".concat(t),method:"get"})},u=function(t){return a["a"].request({url:"/admin/user/reset_pwd/".concat(t),method:"post"})},o=function(t){return a["a"].request({url:"/admin/user/set_vip/".concat(t),method:"post"})}},"61b7":function(t,e,s){},b5ee:function(t,e,s){"use strict";var a=s("61b7"),i=s.n(a);i.a},be94:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin-add-user"},[s("div",{staticClass:"zone-frame"},[s("h2",[t._v("新增用户")]),s("div",{staticClass:"add-user flex-start-center"},[s("div",{staticClass:"info-item"},[s("Input",{attrs:{placeholder:"用户账号"},model:{value:t.user.account,callback:function(e){t.$set(t.user,"account",e)},expression:"user.account"}})],1),s("div",{staticClass:"info-item"},[s("Input",{attrs:{placeholder:"用户密码"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("div",{staticClass:"info-item"},[s("Input",{attrs:{placeholder:"用户名字"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),s("div",{staticClass:"info-item"},[s("Select",{attrs:{placeholder:"请选择职业"},model:{value:t.user.job,callback:function(e){t.$set(t.user,"job",e)},expression:"user.job"}},t._l(t.jobList,(function(e,a){return s("Option",{key:a,attrs:{value:a}},[t._v(t._s(e))])})),1)],1),s("div",{staticClass:"info-item"},[s("Select",{attrs:{placeholder:"是否vip"},model:{value:t.user.vip,callback:function(e){t.$set(t.user,"vip",e)},expression:"user.vip"}},[s("Option",{key:0,attrs:{value:0}},[t._v("否")]),s("Option",{key:1,attrs:{value:1}},[t._v("是")])],1)],1),s("div",{staticClass:"info-item"},[s("Button",{attrs:{type:"primary"},on:{click:t.addUser}},[t._v("创建用户")])],1)])]),s("div",{staticClass:"zone-frame"},[s("h2",[t._v("用户列表")]),t._m(0),s("ul",{staticClass:"user-list-frame"},t._l(t.userlist,(function(e,a){return s("li",{key:a,staticClass:"flex-start-center user-list-item"},[s("div",{staticClass:"account"},[t._v(t._s(e.account))]),s("div",{staticClass:"name"},[t._v(t._s(e.name))]),e.vip?s("div",{staticClass:"vip",staticStyle:{color:"red"}},[t._v("是")]):s("div",{staticClass:"vip"},[t._v("否")]),s("div",{staticClass:"action"},[s("Button",{staticClass:"action-item",attrs:{type:"primary",size:"small"},on:{click:function(s){return t.setVip(e._id)}}},[t._v("设为vip")]),s("Button",{staticClass:"action-item",attrs:{type:"primary",size:"small"},on:{click:function(s){return t.resetPwd(e._id)}}},[t._v("重制密码")])],1)])})),0),s("Page",{attrs:{"page-size":50,total:5e3,current:t.page,simple:""},on:{"on-change":t.getUsers}})],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"user-list-frame user-list-title"},[s("li",{staticClass:"flex-start-center"},[s("div",{staticClass:"account"},[t._v("账号")]),s("div",{staticClass:"name"},[t._v("昵称")]),s("div",{staticClass:"vip"},[t._v("是否vip")]),s("div",{staticClass:"action"},[t._v("操作")])])])}],r=(s("7f7f"),["招聘","推广","美食"]),n=s("c24f"),c=s("50fc"),u={mounted:function(){this.getUsers(1)},data:function(){return{jobList:r,user:{account:"",password:"",name:"",job:"",vip:""},params:{page:1,job:"",vip:""},page:1,userlist:[]}},methods:{getUsers:function(t){var e=this;this.page=t,Object(c["d"])(this.page).then((function(t){var s=t.data;e.userlist=s.msg}))},addUser:function(){var t=this;if(!this.user.account.trim()||!this.user.password.trim()||!this.user.name.trim()||!String(this.user.job))return this.$Notice.error({title:"注册信息缺失"});Object(n["h"])(this.user).then((function(e){var s=e.data;s.success?(t.$Notice.success({title:s.msg}),t.clearUser()):t.$Notice.error({title:s.msg})}))},clearUser:function(){this.user.account="",this.user.password="",this.user.name="",this.user.job=""},resetPwd:function(t){var e=this;Object(c["e"])(t).then((function(t){var s=t.data;if(s.success)return e.$Notice.success({title:"已重制密码为 123qwe"})}))},setVip:function(t){var e=this;Object(c["f"])(t).then((function(t){var s=t.data;if(s.success)return e.getUsers(e.page),e.$Notice.success({title:"设置vip成功"})}))}}},o=u,l=(s("b5ee"),s("2877")),d=Object(l["a"])(o,a,i,!1,null,"b687c4fc",null);e["default"]=d.exports}}]);